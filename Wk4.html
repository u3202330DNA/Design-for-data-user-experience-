<html>
    <head>
        <title>Dark Sky Intro</title>
    </head>
    
<body>
    <!-- all code would go here-->

<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
    
    <script type="text/javascript">
        
        
        $(document).ready(function(){
            
            
            // my API key
            var key = '3993c7f026ca3be6be9531eae0012693';
            
            // API call 
            var url=  'https://api.darksky.net/forecast/'+key+'/-35.2809,149.1300?units=auto&callback=?';
            
            $.getJSON(url,function(data) {
                //output request
                console.log(data);
                
                //get current temperature
                console.log(data.currently.temperature);
                $('.current span').html(data.currently.temperature)
                
                
                //New easy  way
                //get summary
                var summary = data.currently.summary;
                $('.summary').html(summary);
                
                //get time
                //get current time
                console.log(data.currently.time);
                var now= new Date(data.currently.time*1000);
                console.log(now);
                $('.time').html(now.toDateString()+','+ now.toTimeString())
             
                //loopthrough data and add to the table 
                //new row for each new time
                
                for (var i = 0; i <data.daily.data.lenght; i ++){
                    console.log(data.daily.data[i]);
                    
                    var f = data.daily.data[i]; //data for one day in the forecast
                    
                    var row = $("<tr>");
                    var date = new Date (f.timex1000);
                    
                    row.append("<td>" + date.toDateString() + </td>);
                    row.append("<td>" + f.summary + "</td>");
                    row.append("<td>" + f.temperatureMin + "</td>");
                    row.append("<td>" + f.temperatureMax + "</td>");
                    
                    
                    
                    //append the tr info in the table 
                    
                    $("#forecast").append(row);
                }
                
                
            });

        });
        
    </script>
    
        <div class="content">
            
        <div id ="forecast">
            <table>
                <tr><th>date</th><th>summary</th><th>min</th><th>max</th></tr>
                
            </table>
            
            
            
            
     <!-- set the content of these tags in the jquery-->
            
            <h3>At: </h3>
            <p class="time"></p>
            
            <h2 class="current">Current temp is: <span></span> &deg;C</h2>
            
            <h3 class="Summary"></h3>
            
            <p class="summary"></p>
            
    
    
    </body>
    
</html>